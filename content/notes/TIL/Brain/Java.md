---
title: "Java"
created: 2023-02-05 02:47
updated: 2023-02-05 02:54
tags: ["Java", "자바"]
---

## Reference

1.

스프링에서 DI하는 방법으로 싱글톤 패턴을 적용했다고 하면 맞지만, 싱글톤 패턴이 DI라는 것을 의미하지는 않는다. 예시를 들어보면

- 싱글톤 : 농사를 하는 경우, 농부가 매번 삽을 만들면 삽을 만드는 것에 대한 리소스 낭비가 심할 것이기 때문에 공용 삽을 1개만 만들어 놓는 방법론

- DI : 농부가 농사 "도구" 가 필요할때 대감 마님한테서 필요한 "도구"를 받아서 사용하는 것. 농부와 도구의 의존성을 분리할 수 있으므로 도구가 수정되어야할때 농부는 그거에 맞게 수정할 필요가 없어지게 하는 것이 목적. 예를 들어, 고구마 캐는 것에 호미가 좋고 땅을 파는 것에 삽이 좋다고 하면 이를 농부가 고려하는 것이 아닌 대감마님이 농부의 손에 알아서 호미, 삽 쥐어주는 것임

싱글톤으로 공용 삽을 만들어놓은 상황이면 충분하지 않냐고 생각할 수 있다. 하지만, 그렇게 하면 삽을 만드는 시간, 메모리를 절약할 수 있는 장점이 있지만 의존성이 높아져서 테스트하기 어려운 단점이 있다. 

예를 들어, 공용 삽 1개, 호미 1개, 농부 10명이 있다고 하자. 공용 삽과 공용 호미가 땅을 파는(Digging) 기능이 잘 되는지 테스트 해보고 싶은데, 삽이 단 1개, 호미가 단 1개이기 때문에 돌려가면서 테스트하기 힘들다. 이때, 대감마님이 나서서 너부터 이걸로 테스트 해봐. 다음은 너가 이걸로 테스트 해봐. 교통정리 해주면 해결될 것이다. 

농부가 땅파기 기능이 있는 도구를 받을 준비를 한 것이 생성자를 만들어 놓은 상태이다. 그리고 땅파기 기능이 있는 인터페이스를 만들어놓으면 삽과 호미는 땅파기 기능을 구현만 하면 된다. 이후, 대감마님이 농사 도구를 농부에게 넘겨주는 식으로 하면 해결 !



