<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="단편적 지식을 통합된 지식으로"><meta property="og:type" content="website"><meta property="og:url" content="https://shin-jae-yoon.github.io/"><meta property="og:site_name" content="개발자 유니의 두 번째 뇌"><meta property="og:title" content="개발자 유니의 두 번째 뇌"><meta property="og:description" content="단편적 지식을 통합된 지식으로"><meta property="og:image" content="https://img1.daumcdn.net/thumb/C428x428/?scode=mtistory2&fname=https%3A%2F%2Ftistory4.daumcdn.net%2Ftistory%2F5252507%2Fattach%2F9c3ad58fd9d24ab486b8a4258ba525d2"><meta property="og:article:author" content="유니"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@TISTORY"><meta property="twitter:title" content="개발자 유니의 두 번째 뇌"><meta property="twitter:description" content="단편적 지식을 통합된 지식으로"><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/C428x428/?scode=mtistory2&fname=https%3A%2F%2Ftistory4.daumcdn.net%2Ftistory%2F5252507%2Fattach%2F9c3ad58fd9d24ab486b8a4258ba525d2"><meta name=naver-site-verification content="9e162597b5777707f80d8478ef502c5224430d43"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GJFBQJ80N7"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GJFBQJ80N7")</script><title>개발자 유니의 두 번째 뇌</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://shin-jae-yoon.github.io//icon.png><link href=https://shin-jae-yoon.github.io/styles.faa73f2b21b46f3503c954baa5eda5ab.min.css rel=stylesheet><link href=https://shin-jae-yoon.github.io/styles/_light_syntax.b3cdc1af6c90d5fc7e05ca6e6e6f3e60.min.css rel=stylesheet id=theme-link><script src=https://shin-jae-yoon.github.io/js/darkmode.bc2675e781c280aaf6b5cc1b2bc0d940.min.js></script>
<script src=https://shin-jae-yoon.github.io/js/util.9f16e8e6e851e38941fee1829bbdba7e.min.js></script>
<script src=https://shin-jae-yoon.github.io/js/scroll.dd2afb7d6055a9d76e9662a2abb5fb6b.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script async src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script async src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script async src=https://shin-jae-yoon.github.io/js/popover.b71dd27f329bec6e58788f7b5d4fc3f7.min.js></script>
<script defer src=https://shin-jae-yoon.github.io/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://shin-jae-yoon.github.io/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://shin-jae-yoon.github.io/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://shin-jae-yoon.github.io/",fetchData=Promise.all([fetch("https://shin-jae-yoon.github.io/indices/linkIndex.bfebc7fd478caad769107f3e84011176.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://shin-jae-yoon.github.io/indices/contentIndex.2bd4b3c525214a4129accdd48d85dcc1.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://shin-jae-yoon.github.io",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://shin-jae-yoon.github.io",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1}:{centerForce:5,depth:2,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:2.5,repelForce:1,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/shin-jae-yoon.github.io\/js\/router.3dafe6f9bb92769e0dfb555c99deab7a.min.js"
    attachSPARouting(init, render)
  </script><script src=https://kit.fontawesome.com/1f943b0307.js crossorigin=anonymous></script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder=" 검색어를 입력하세요 "><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://shin-jae-yoon.github.io/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header style=margin-bottom:0><img src="https://img1.daumcdn.net/thumb/C32x32/?scode=mtistory2&fname=https%3A%2F%2Ftistory3.daumcdn.net%2Ftistory%2F5252507%2F9f1447b3d8ac45ffa6c01c21fa6aec75"><h1 style=margin-left:.2em id=page-title><a href=https://shin-jae-yoon.github.io/>개발자 유니 - 두 번째 뇌</a></h1><h1 style=margin-left:.2em id=page-title2><a href=https://shin-jae-yoon.github.io/>개발자 유니</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div style=margin-left:1em><a href=/tags><i class="fa-solid fa-hashtag"></i></a></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><div style=margin-bottom:3em><ul class=header-nav><li style=margin-right:1em><a href=https://shin-jae-yoon.github.io/>Home</a></li><li style=margin-right:1em><a href=/about/>About</a></li><li style=margin-right:1em><a href=https://shin-jae-yoon.github.io/notes/TIL/TIL>TIL</a></li><li><a href=/notes/Interview/Interview>Interview</a></li></ul></div><article><h1>스프링 입문 : 섹션0-섹션3</h1><p class=meta>Last updated -
2023년 02월 15일
<a href=https://github.com/Shin-Jae-Yoon/Shin-Jae-Yoon.github.io/tree/hugo/content/notes/TIL/fragment/tech/spring/spring-basic/spring-basic-01.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>CONTENTS</summary><nav id=TableOfContents><ul><li><a href=#프로젝트-환경설정>프로젝트 환경설정</a><ul><li><a href=#프로젝트-생성>프로젝트 생성</a></li><li><a href=#라이브러리-살펴보기>라이브러리 살펴보기</a></li><li><a href=#view-환경설정>View 환경설정</a></li><li><a href=#빌드하고-실행하기>빌드하고 실행하기</a></li></ul></li><li><a href=#스프링-웹-개발-기초>스프링 웹 개발 기초</a><ul><li><a href=#정적-컨텐츠>정적 컨텐츠</a></li><li><a href=#mvc와-템플릿-엔진>MVC와 템플릿 엔진</a></li><li><a href=#api>API</a></li></ul></li></ul></nav></details></aside><div class=asideTOCbox><aside class=asideTOC id=asideTOC><div id=asideTocTitleBox><a href=# id=asideTocTitle>CONTENTS</a></div><nav id=TableOfContents><ul><li><a href=#프로젝트-환경설정>프로젝트 환경설정</a><ul><li><a href=#프로젝트-생성>프로젝트 생성</a></li><li><a href=#라이브러리-살펴보기>라이브러리 살펴보기</a></li><li><a href=#view-환경설정>View 환경설정</a></li><li><a href=#빌드하고-실행하기>빌드하고 실행하기</a></li></ul></li><li><a href=#스프링-웹-개발-기초>스프링 웹 개발 기초</a><ul><li><a href=#정적-컨텐츠>정적 컨텐츠</a></li><li><a href=#mvc와-템플릿-엔진>MVC와 템플릿 엔진</a></li><li><a href=#api>API</a></li></ul></li></ul></nav></aside></div><div class=tpstyle-yes><blockquote><p>해당 게시글은 김영한님 <a href=https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9E%85%EB%AC%B8-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8 target=_blank>스프링 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술</a>강좌의 섹션0부터 섹션3까지 정리한 내용입니다.</p></blockquote><hr><a href=#프로젝트-환경설정><h2 id=프로젝트-환경설정><span class=hanchor arialabel=Anchor># </span>프로젝트 환경설정</h2></a><br><a href=#프로젝트-생성><h3 id=프로젝트-생성><span class=hanchor arialabel=Anchor># </span>프로젝트 생성</h3></a><ol><li><a href=https://start.spring.io/ rel=noopener>https://start.spring.io/</a> 스프링 프로젝트 생성<ul><li>프로젝트 생성</li><li>Project : Gradle<ul><li>Spring Boot : (SNAPSHOT), (M~)는 정식 버전 아니니까 아무 것도 없고 숫자만 써진 버전으로 설정</li><li>Language : Java</li><li>Packaging : Jar</li><li>Java : 11</li></ul></li><li>Project Metadata<ul><li>Group : 보통 기업 도메인명 적어줌. 임의로 hello 적음</li><li>Artifact : 프로젝트명</li></ul></li><li>Dependencies<ul><li>어떤 라이브러리를 당겨와서 사용할 것이냐</li><li>Spring Web 추가</li><li>Thymeleaf 추가 (프리마커 쓰는 회사도 있음)</li></ul></li></ul></li></ol><br><ol start=2><li>인텔리제이로 프로젝트 오픈</li></ol><ul><li>자바11로 프로젝트 생성했으니, 인텔리제이도 세팅 변경<ul><li>프로젝트 JDK 설정<ul><li>File - Project Structure - Project Settings - Project</li><li>SDK : 11 Oracle OpenJDK version 11.0.16<ul><li>Language level : SDK default</li></ul></li><li>Platform Settings - SDKs - 1.8이 아닌 11로 설정</li></ul></li></ul></li><li>Gradle JDK 설정<ul><li>File - Build, Execution, Deployment - Build Tools - Gradle<ul><li>Build and run using : Gradle -> IntelliJ (속도향상)</li><li>Run tests using : Gradle -> IntelliJ (속도향상)</li><li>Gradle JVM : 11 Oracle OpenJDK</li></ul></li></ul></li></ul><br><ol start=3><li>프로젝트 내용물 설명</li></ol><ul><li>gradle/wrapper : gradle 관련하여 사용하는 폴더</li><li>src : 기본적으로 main/test 두 갈래 생성</li><li>src/test : 최근 트렌드인 test 코드 관련, Junit5 기반</li><li>src/main/resources : 실제 java 코드 제외한 xml, properties, html 등 나머지 전부</li><li>gitignore : github에 올릴 때 제외할 파일들</li><li>gradlew, bradlew.bat, settings.gradle : 그래들 설정 관련</li><li>build.gradle : 예전에는 실제로 타이핑하고 코드 짰으나, 최근에는 start.spring.io와 같은 스프링부트 덕에 설정 파일이 제공됨</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>plugins</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 선택한 스프링부트 버전과 자바 언어 등
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>id</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=err>&#39;</span> <span class=n>version</span> <span class=err>&#39;</span><span class=n>2</span><span class=o>.</span><span class=na>7</span><span class=o>.</span><span class=na>4</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>id</span> <span class=err>&#39;</span><span class=n>io</span><span class=o>.</span><span class=na>spring</span><span class=o>.</span><span class=na>dependency</span><span class=o>-</span><span class=n>management</span><span class=err>&#39;</span> <span class=n>version</span> <span class=err>&#39;</span><span class=n>1</span><span class=o>.</span><span class=na>0</span><span class=o>.</span><span class=na>14</span><span class=o>.</span><span class=na>RELEASE</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>id</span> <span class=err>&#39;</span><span class=n>java</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>group</span> <span class=o>=</span> <span class=err>&#39;</span><span class=n>hello</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=n>version</span> <span class=o>=</span> <span class=err>&#39;</span><span class=n>0</span><span class=o>.</span><span class=na>0</span><span class=o>.</span><span class=na>1</span><span class=o>-</span><span class=n>SNAPSHOT</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>// 자바 11버전을 의미
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>sourceCompatibility</span> <span class=o>=</span> <span class=err>&#39;</span><span class=n>11</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>repositories</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// mavenCentral이라는 공개된 사이트에서 라이브러리 다운 받아오기
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>mavenCentral</span><span class=o>()</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// start.spring.io에서 설정했던 의존관계
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>thymeleaf</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>implementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>web</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>testImplementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>test</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tasks</span><span class=o>.</span><span class=na>named</span><span class=o>(</span><span class=err>&#39;</span><span class=n>test</span><span class=err>&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>useJUnitPlatform</span><span class=o>()</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><br><ol start=4><li><p>생성한 프로젝트 실행</p><ul><li>src/main/java/hello/hellospring/HelloSpringApplication.java 메인 메서드 그냥 실행</li><li><code>@SpringBootApplication</code> 애노테이션이 있는 것이 스프링부트 실행 파일</li><li><code>localhost:8080</code> 들어가서 Whitelabel Error Page 뜨면 성공</li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>hello.hellospring</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.springframework.boot.SpringApplication</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.springframework.boot.autoconfigure.SpringBootApplication</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@SpringBootApplication</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>HelloSpringApplication</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=n>SpringApplication</span><span class=o>.</span><span class=na>run</span><span class=o>(</span><span class=n>HelloSpringApplication</span><span class=o>.</span><span class=na>class</span><span class=o>,</span> <span class=n>args</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><br><ol start=5><li><p>스프링부트 실행 오류</p><ul><li>8080포트 이미 열려있어서 안되는 경우</li><li>cmd 관리자 권한으로 실행</li><li><code>netstat -ano | findstr 8080</code>으로 열려있는 포트 확인</li><li><code>taskkill /F /pid [process_id]</code>로 8080포트 닫기</li></ul></li></ol><br><a href=#라이브러리-살펴보기><h3 id=라이브러리-살펴보기><span class=hanchor arialabel=Anchor># </span>라이브러리 살펴보기</h3></a><ul><li><p>Maven, Gradle 같은 빌드 툴은 의존관계를 관리해준다. 실제 우리가 추가한 의존관계는 <code>Spring Web, Thymeleaf</code>인데, 외부 라이브러리를 확인해보면 수많은 라이브러리가 다운받아져있다. <strong>의존관계에 따라 자기가 필요한 라이브러리들을 알아서 당겨온다.</strong></p></li><li><p>인텔리제이 우측에 작은 Gradle 클릭해보면, 여러 의존관계 살펴볼 수 있음</p></li></ul><p><br><br></p><p><strong>compileClassPath : 스프링 부트 라이브러리</strong></p><ul><li>spring-boot-starter-web<ul><li>spring-boot-starter-tomcat : 웹서버</li><li>spring-webmvc : 웹 MVC</li></ul></li><li>spring-boot-starter-thymeleaf : 타임리프 템플릿 엔진 (View)<ul><li>spring-boot-starter<ul><li>spring-boot<ul><li>spring-boog-core</li></ul></li><li>spring-boot-starter-logging<ul><li>logback</li><li>slf4j</li></ul></li></ul></li></ul></li></ul><br><ul><li><p>톰캣은 WAS(Web-Application-Server)이다.</p><ul><li><p>예전에는 서버에 톰캣같은 웹서버를 설치해놓고 거기에 자바 코드를 밀어놓는 식으로 개발했음. 웹서버와 개발 라이브러리가 완전히 분리되어 있었음</p></li><li><p>최근에는 소스 라이브러리에서 이런 웹서버를 알아서 들고있음(임베디드, 내장) 그래서 자바 메인 메서드만 실행해도 따로 설정 필요없이 웹서버가 뜬다. 8080포트로 들어갈 수도 있음</p></li></ul></li><li><p>실무에서, <code>system.out.println()</code> 방식으로 출력하지 않고 log를 사용한다.</p><ul><li><p>심각한 로그를 따로 관리하거나, 로그 파일이 관리가 됨</p></li><li><p>slf4j는 인터페이스이고 logback은 실제 로그를 어떤 구현체로 출력할 지</p></li><li><p>최근에는 slf4j + logback 조합을 보통 사용한다. 성능도 빠르고 지원하는 기능 많음</p></li></ul></li></ul><p><br><br></p><p><strong>testCompileClasspath : 테스트 라이브러리</strong></p><ul><li>spring-boot-starter-test<ul><li>junit : 테스트 프레임워크 (최근에는 junit 5버전 사용, 핵심)</li><li>mockito : 목 라이브러리</li><li>assertj : 테스트 코드 작성을 더 쉽게 해주는 라이브러리</li><li>spring-test : 스프링 통합 테스트 지원</li></ul></li></ul><p><br><br></p><a href=#view-환경설정><h3 id=view-환경설정><span class=hanchor arialabel=Anchor># </span>View 환경설정</h3></a><p><strong>Welcome Page 만들기</strong><br></p><p><code>resources/static/</code> 경로에 <code>index.html</code> 파일을 추가하면, welcome page의 기능을 한다. 이는 단순한 정적 페이지이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>// resources/static/index.html
</span></span><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Hello<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>meta</span> <span class=na>http-equiv</span><span class=o>=</span><span class=s>&#34;Content-Type&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;text/html; charset=UTF-8&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		Hello
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;/hello&#34;</span><span class=p>&gt;</span>hello<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p><a href=https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.welcome-page target=_blank>spring boot docs - welcomepage</a></p></li><li><p><a href=https://spring.io/guides/gs/serving-web-content/ target=_blank>스프링 공식 튜토리얼</a></p></li></ul><p><br><br></p><p><strong>thymeleaf 템플릿 엔진</strong><br></p><p>템플릿 엔진을 사용하여, 동적인 페이지를 구현할 수 있다.</p><ul><li><p><a href=https://www.thymeleaf.org/index.html target=_blank>thymeleaf official hompage</a></p></li><li><p><a href=https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.template-engines target=_blank>스프링부트 템플릿 엔진 메뉴얼</a></p></li></ul><p><br><br></p><p>웹 어플리케이션에서 첫 번째 진입점이 바로 <strong>Controller, 컨트롤러</strong>이다.</p><ol><li><p><code>hello/hellospring/controller</code> 패키지 생성</p></li><li><p>패키지에 <code>HelloController.java</code> 생성</p></li><li><p><code>resources/templates/hello.html</code> 생성</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// src/main/java/hello/hellospring/controller/HelloController.java
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nn>hello.hellospring.controller</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.springframework.stereotype.Controller</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.springframework.ui.Model</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.springframework.web.bind.annotation.GetMapping</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Controller</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>HelloController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;hello&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=n>String</span> <span class=nf>hello</span><span class=o>(</span><span class=n>Model</span> <span class=n>model</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=n>model</span><span class=o>.</span><span class=na>addAttribute</span><span class=o>(</span><span class=s>&#34;data&#34;</span><span class=o>,</span> <span class=s>&#34;hello!!&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=s>&#34;hello&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p><code>@GetMapping("hello")</code> : get/post 방식 말할 때 그 get이다. <code>localhost:8080/hello</code>와 mapping</p></li><li><p>model의 속성으로 키 : data, 값 : hello!!를 넘긴다.</p></li><li><p><code>return "hello"</code>로 <code>/resources/templates/hello</code>를 찾아서 렌더링 함</p></li></ul><br><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>// resources/templates/hello.html
</span></span><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>xmlns:th</span><span class=o>=</span><span class=s>&#34;http://www.thymeleaf.org&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Hello<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>meta</span> <span class=na>http-equiv</span><span class=o>=</span><span class=s>&#34;Content-Type&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;text/html; charset=UTF-8&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>p</span> <span class=na>th:text</span><span class=o>=</span><span class=s>&#34;&#39;안녕하세요. &#39; + ${data}&#34;</span><span class=p>&gt;</span>안녕하세요. 손님<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>http://www.thymeleaf.org</code>를 추가함으로써 타임리프 문법 사용 가능</li></ul><p align=center><img src=https://i.imgur.com/9RradTY.png height=50% width=80%></p><ol><li>웹 브라우저에서 <code>localhost:8080/hello</code>로 get 요청</li><li>내장된 톰캣이 웹서버의 역할을 하여 받아서 controller로 전달</li><li>스프링이 컨트롤러에 맵핑된 <code>hello</code>가 있나 찾아봄.</li><li>controller인 helloController의 메서드가 실행된다. 이때 스프링이 Model을 만들어서 model을 controller에 넣어준다.</li><li>controller는 이 model에다가 키 : data, 값 : hello!!를 넣는다.</li><li><code>/resources/templeates/hello</code>를 찾고 model을 화면에 넘기면서 화면을 렌더링해라<ul><li>즉, 컨트롤러에서 리턴 값으로 문자를 반환하면 뷰 리졸버( viewResolver )가 화면을 찾아서 처리하게 된다.</li><li>뷰 리졸버는 View를 찾아주고 템플릿 엔진 연결시켜주는 녀석</li><li>찾을 때, 스프링 부트 템플릿 엔진 기본 viewName에 매핑</li><li><code>resources:templates/</code> + {ViewName} + <code>.html</code></li></ul></li></ol><p><br><br></p><p><strong>서버 재시작 없이 View 파일 리로드</strong></p><ol><li><code>build.gradle</code>에 의존성 추가 (spring-boot-devtools 라이브러리 설치해준 것)<ul><li><code>developmentOnly 'org.springframework.boot:spring-boot-devtools'</code></li></ul></li><li><code>/resources/application.properties</code>에 아래 코드 추가 (필수는 아님)</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>spring</span><span class=o>.</span><span class=na>devtools</span><span class=o>.</span><span class=na>livereload</span><span class=o>.</span><span class=na>enabled</span><span class=o>=</span><span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=n>spring</span><span class=o>.</span><span class=na>devtools</span><span class=o>.</span><span class=na>restart</span><span class=o>.</span><span class=na>enabled</span><span class=o>=</span><span class=kc>true</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><p>File - Settings - Advanced Settings - Compiler에서 <code>Allow auto-make to start~</code> 체크</p></li><li><p>File - Settings - Build, Execution~ - Compiler에서 <code>Build project automatically</code> 체크</p></li></ol><p>이제 View 파일 수정하면 한 5초 뒤에 서버가 알아서 리로드 되면서 크롬 가서 새로고침 해보면 확인 가능하다. 만약, 새로고침 없이 보고 싶으면 크롬 확장 프로그램 Livereload 설치하셈</p><p><br><br></p><a href=#빌드하고-실행하기><h3 id=빌드하고-실행하기><span class=hanchor arialabel=Anchor># </span>빌드하고 실행하기</h3></a><p>빌드하고자 하는 프로젝트 폴더로 이동하고 거기서 마우스 우클릭으로 <code>Git Bash Here</code> 혹은 <code>터미널에서 열기</code> 클릭! WSL2 java 관련 설정은
<a href=/notes/TIL/fragment/lang/java/java-settings/ rel=noopener class=internal-link data-src=/notes/TIL/fragment/lang/java/java-settings/>Java Settings</a> 참고</p><ol><li><code>./gradlew build</code></li><li><code>cd build/libs</code></li><li><code>java -jar hello-spring-0.0.1-SNAPSHOT.jar</code></li></ol><p>이러면 서버 실행 완료된 것! 종료 하려면 <code>Ctrl + C</code></p><ul><li>빌드 폴더 깔끔하게 지우기 <code>./gradlew clean</code></li></ul><hr><a href=#스프링-웹-개발-기초><h2 id=스프링-웹-개발-기초><span class=hanchor arialabel=Anchor># </span>스프링 웹 개발 기초</h2></a><p>웹을 개발한다는 것은 크게 3가지 방법이 있다.</p><ul><li><p>정적 컨텐츠 : welcomepage처럼 서버에서 하는 것 없이 파일을 그대로 웹 브라우저에게 내리는 것</p></li><li><p>MVC와 템플릿 엔진 : jsp, php가 흔히 말하는 템플릿 엔진인데 html을 그냥 주는 것이 아니라 서버에서 프로그래밍 해서 html을 동적으로 바꿔서 내리는 것. 이 작업을 하기 위하여 Model, View, Controller 패턴으로 개발</p></li><li><p>API : JSON 형식으로 데이터를 전달해주는 방식</p></li></ul><br><p>사실 정적 컨텐츠 방식을 제외하면, 이렇게 생각하면 된다.</p><ul><li><p>MVC 방식처럼 View를 찾아서 템플릿 엔진을 통해 화면을 렌더링해서 HTML을 변환하여 HTML 파일을 웹 브라우저에 넘겨주는 방식, <strong>HTML을 내리냐</strong></p></li><li><p>API를 사용하여 <strong>데이터를 바로 내리냐</strong></p></li></ul><br><a href=#정적-컨텐츠><h3 id=정적-컨텐츠><span class=hanchor arialabel=Anchor># </span>정적 컨텐츠</h3></a><p>스프링 부트는 정적 컨텐츠를 <a href=https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.static-content target=_blank>제공</a>하고 있다. <code>/resources/static</code> 폴더에 아무 html 파일을 만들면 그대로 반환해준다. 만약 <code>hello-static.html</code> 파일을 만들었다면, <code>localhost:8080/hello-static.html</code>로 들어가면 나온다.</p><p align=center><img src=https://i.imgur.com/saADxTn.png height=50% width=80%></p><ol><li><p>웹브라우저에서 <code>localhost:8080/hello-static.html</code>로 get 요청</p></li><li><p>내장 톰캣 서버가 요청을 받고 스프링에게 넘김</p></li><li><p>스프링은 컨트롤러 쪽에서 <code>hello-static</code>과 맵핑된 컨트롤러 있나 찾아봄</p></li><li><p>없으면 <code>resources: statc/hello-static.html</code>을 찾고 있으면 반환해줌</p></li></ol><br><a href=#mvc와-템플릿-엔진><h3 id=mvc와-템플릿-엔진><span class=hanchor arialabel=Anchor># </span>MVC와 템플릿 엔진</h3></a><p>MVC : Model, View, Controller</p><p>과거에는 컨트롤러와 뷰를 따로 분리하지 않고 JSP 같은걸로 뷰에 모든 걸 다했다. 이것이 <strong>Model 1 방식</strong>이다. 하지만, 지금은 MVC 패턴으로 많이 한다. 그 이유는 <strong>관심사의 분리, 역할과 책임</strong> 때문이다.</p><p>View는 화면을 그리는 것에 모든 역량을 집중해야 하고, Controller나 Model과 관련된 부분은 비즈니스 로직과 관련있거나 내부적인 걸 처리하는 것에 집중해야 한다.</p><br><p><code>HelloController.java</code>에 내용 추가</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;hello-mvc&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>String</span> <span class=nf>helloMvc</span><span class=o>(</span><span class=nd>@RequestParam</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=n>Model</span> <span class=n>model</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>model</span><span class=o>.</span><span class=na>addAttribute</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>,</span> <span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=s>&#34;hello-template&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p><code>hello-mvc</code> get 요청에 맵핑</p></li><li><p>외부, 웹에서 파라미터를 받기 위하여 <code>@RequestParam()</code>을 사용</p></li><li><p>당연히 Model은 넘겨줘야지</p></li><li><p><code>addAttribute</code>에서 파라미터로 넘어온 name을 넘긴다.</p></li></ul><br><p><code>resources/templates/hello-static.html</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>xmlns:th</span><span class=o>=</span><span class=s>&#34;http://www.thymeleaf.org&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>p</span> <span class=na>th:text</span><span class=o>=</span><span class=s>&#34;&#39;hello &#39; + ${name}&#34;</span><span class=p>&gt;</span>hello! empty<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>템플릿 엔진으로써 잘 동작하면 th:text의 값인 <code>'hello ' + ${name}</code>로 우측의 내용(hello! empty)이 치환이 된다.</li></ul><br><p>타임리프 템플릿의 장점은 html을 쓰고 서버 없이 파일을 열어서 껍데기를 볼 수 있는 것이다. <code>템플릿 파일명 우클릭 - Copy Path/References.. - Absolute Path 복사</code>하고 웹 브라우저 링크에 치면 볼 수 있다.</p><br><p>여기까지 하고 <code>localhost:8080/hello-mvc</code>를 입력하면!? <code>Required request parameter 'name' for method parameter type String is not present]</code>라는 오류가 콘솔창에 뜬다. 파라미터를 입력해주지 않았기 때문이다. 인텔리제이에서 필요한 파라미터가 무엇인지 볼 때 <code>Ctrl + P</code>를 누르면 뜬다.</p><p align=center><img src=https://i.imgur.com/ofYiI3f.png height=50% width=80%></p><p><code>boolean required() default true</code>인 것으로 보아 반드시 값이 필요한게 디폴트 설정이다. 따라서, 웹 브라우저 창에 <code>localhost:8080/hello-mvc?name=name에 들어갈 문자열</code>을 넣어주면 된다. 그러면 결과로 <code>'hello ' + ${name}</code>이니까 <code>hello name에 들어갈 문자열</code>이라는 모습이 보일 것이다.</p><p align=center><img src=https://i.imgur.com/15HkOIc.png height=50% width=80%></p><p>다시 한번, <strong>달러($) 사인에 들어가는 것은 Model에서 뽑아온 key에 해당하는 value이다.</strong> <code>model.addAttribute("name", name);</code>이라고 했으니까 <code>name</code>이라는 key에서 <code>name</code>이라는 value를 가져오는 것!</p><br><p align=center><img src=https://i.imgur.com/gg0Tehb.png height=50% width=80%></p><ol><li><p>웹브라우저에서 <code>localhost:8080/hello-mvc</code>로 get 요청</p></li><li><p>내장 톰캣 서버가 요청을 받고 스프링에게 넘김</p></li><li><p>스프링은 컨트롤러 쪽에서 <code>hello-mvc</code>와 맵핑된 컨트롤러 있나 찾아봄</p></li><li><p>있으니까 <code>hello-template</code>으로 넘기고 <code>model(name:문자열)</code>을 넘김.</p></li><li><p>뷰 리졸버 (viewResolver)가 return의 <code>hello-template</code>와 같은<code>templates/hello-template.html</code>를 찾아서 타임리프 템플릿 엔진에 처리해달라고 넘김</p></li><li><p>템플릿 엔진이 렌더링해서 변환한 HTML 파일을 웹 브라우저에 반환</p></li></ol><br><a href=#api><h3 id=api><span class=hanchor arialabel=Anchor># </span>API</h3></a><p>MVC 방식과는 다르게 (HTML 파일을 내리는 방식과는 다르게) API는 데이터를 바로 내리는 방식이다.</p><br><p><code>HelloController.java</code>에 내용 추가</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;hello-string&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@ResponseBody</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>String</span> <span class=nf>helloString</span><span class=o>(</span><span class=nd>@RequestParam</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=s>&#34;hello &#34;</span> <span class=o>+</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p><code>hello-string</code> get 요청에 맵핑</p></li><li><p><code>@ResponseBody</code>의 body는 html의 <code>&lt;body>&lt;/body></code>를 의미하는 것이 아니라 HTTP의 <code>헤더부와 바디부</code>를 의미하는 것이다. HTTP의 응답 body에 이 내용을 직접 넣어주겠다는 의미이다.</p></li><li><p>템플릿 엔진과는 다르게 view 이런게 없어서 저 return 문자가 그대로 내려간다.</p></li></ul><p align=center><img src=https://i.imgur.com/d2uD6Kh.png height=50% width=80%></p><p>이렇게 페이지 소스보기 해보면 html 태그 같은거 안뜨고 <strong>문자 데이터 자체</strong>가 그대로 왔다. 그러면, 본격적으로 api를 사용해보도록 하자. 객체를 만들어서 JSON 형식(<code>key : value</code>)으로 데이터를 보내보자.</p><br><p><code>HelloController.java</code>에 내용 추가</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GetMapping</span><span class=o>(</span><span class=s>&#34;hello-api&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@ResponseBody</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>Hello</span> <span class=nf>helloApi</span><span class=o>(</span><span class=nd>@RequestParam</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>Hello</span> <span class=n>hello</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Hello</span><span class=o>();</span>
</span></span><span class=line><span class=cl>	<span class=n>hello</span><span class=o>.</span><span class=na>setName</span><span class=o>(</span><span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>hello</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kd>class</span> <span class=nc>Hello</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=n>String</span> <span class=nf>getName</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl>	  
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=kt>void</span> <span class=nf>setName</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>static은 기억나지? 힙에 올리는게 아니라 그냥 클래스 변수로 만들어서 올리고 아무데서나 사용할 수 있게 만들었던거</p></li><li><p>private으로 해놨으니까 getter, setter 만들어준거고.</p></li><li><p>helloApi에서 hello 객체 만들고 setName으로 들어온 리퀘스트 파라미터인 name 넣어준거고!</p></li><li><p>마지막으로 hello 객체를 반환해줌</p></li></ul><p align=center><img src=https://i.imgur.com/Qt7XFIr.png height=50% width=80%></p><p align=center><img src=https://i.imgur.com/8obtOHl.png height=50% width=80%></p><ol><li>웹브라우저에서 <code>localhost:8080/hello-api</code>로 get 요청</li><li>내장 톰캣 서버가 요청을 받고 스프링에게 넘김</li><li>스프링은 컨트롤러 쪽에서 <code>hello-api</code>와 맵핑된 컨트롤러 있나 찾아봄</li><li>있네. 근데 <code>@ResponseBody</code> 애노테이션이 붙어있네?<ul><li>저게 없으면, viewResolver에게 던져서 view에 맞는 템플릿 엔진 연결해줬잖아</li><li>얘는 HTTP body 응답에 이걸 그대로 넘겨야겠구나 라고 생각</li><li>근데, 문자였으면 바로 넣어서 주면 끝인데, 객체일 경우는 어떻게 해야할까?</li><li>객체가 오면, 기본 default가 json 방식으로 데이터를 만들어서 HTTP 응답에 반환하겠다가 기본 정책!</li></ul></li><li><code>viewResolver</code>가 아닌, <code>HttpMessageConverter</code>가 동작</li><li>단순 문자면 <code>StringConverter</code>가 동작. 객체이면 <code>JsonConverter</code>가 동작</li><li>이것을 응답으로 웹 브라우저에</li></ol><br><ul><li>기본 문자처리 : <code>StringHttpMessageConverter</code></li><li>기본 객체처리 : <code>MappingJackson2HttpMessageConverter</code><ul><li>객체를 json으로 변환해주는 유명한 라이브러리 대표적인 2개<ul><li>Jackson version 2</li><li>Gson (구글에서 만든거)</li></ul></li><li>스프링은 기본적으로 잭슨 라이브러리를 채택!</li></ul></li><li>참고 : 클라이언트의 HTTP Accept 헤더와 서버의 컨트롤러 반환 타입 정보를 조합해서 <code>HttpMessageConverter</code>가 선택된다. 예를 들어, 클라이언트 쪽에서 XML을 요청하면 서버 쪽에서 XML 라이브러리를 끼워넣고 XML로 보낼 수 있다는 말이다. 근데 그냥 마음 편하게 json으로 하자 ^^ 다 json으로 한다.</li></ul></div></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>백링크</h3><ul class=backlinks><li><a href=/notes/TIL/fragment/tech/spring/spring/ data-ctx="스프링 입문 : 섹션0 - 섹션3" data-src=/notes/TIL/fragment/tech/spring/spring class=internal-link>Spring</a></li></ul></div><div><script async src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>연결된 그래프</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://shin-jae-yoon.github.io/js/graph.6421b50adba269f8b1f5b3e0dc679564.js></script></div></div><div id=contact_buttons><footer><p style=margin-bottom:0>Made by Dev Uni using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><p style=margin-top:0><a href=https://github.com/Shin-Jae-Yoon/Shin-Jae-Yoon.github.io>Dev Uni</a> has customized it by adding a few features.</p><ul><li><a href=https://github.com/Shin-Jae-Yoon><i class="fab fa-github"></i></a></li><li><a href=https://jae-yoon.tistory.com/><i class="fa-solid fa-tenge-sign"></i></a></li><li><a href=mailto:wlwhsvkdlxh@gmail.com><i class="fa-solid fa-envelope"></i></a></li></ul></footer></div><div class=top-btn><i class="top-btn-img fa-solid fa-circle-arrow-up"></i></div><div class=bottom-btn><i class="bottom-btn-img fa-solid fa-circle-arrow-down"></i></div></div><script>document.querySelector(".top-btn").addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.querySelector(".bottom-btn").addEventListener("click",()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})</script></body></html>